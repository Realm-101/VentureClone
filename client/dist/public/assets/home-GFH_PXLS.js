var $e=e=>{throw TypeError(e)};var be=(e,r,t)=>r.has(e)||$e("Cannot "+t);var i=(e,r,t)=>(be(e,r,"read from private field"),t?t.call(e):r.get(e)),j=(e,r,t)=>r.has(e)?$e("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),m=(e,r,t,n)=>(be(e,r,"write to private field"),n?n.call(e,t):r.set(e,t),t),y=(e,r,t)=>(be(e,r,"access private method"),t);import{j as s,r as f,N as Je,M as ls,q as hs,ab as Ye,ac as Fe,ad as U,ae as me,af as he,ag as us,ah as we,ai as Be,aj as ds,ak as ms,al as xs,am as ze,an as pe,ao as Qe,ap as fs,aq as ye,ar as O,as as ge,p as ps,C as K,c as _,aa as te,a as Te,b as Le,at as ys,au as Xe,av as Ze,aw as es}from"./index-DR4Eo-uy.js";import{y as ce,S as gs,B as vs,D as js,a as bs,F as qe,c as ws,g as Ns,T as ue,d as ks,e as Cs}from"./user-avatar-DzilQWqF.js";import{Q as Ss}from"./quantum-pulse-loade-D7cNLzTk.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ce("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ce("SunMoon",[["path",{d:"M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4",key:"1fu5g2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.9 4.9 1.4 1.4",key:"b9915j"}],["path",{d:"m17.7 17.7 1.4 1.4",key:"qc3ed3"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.3 17.7-1.4 1.4",key:"5gca6"}],["path",{d:"m19.1 4.9-1.4 1.4",key:"wpu9u6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function Y(e){return s.jsx(Cs,{onClick:()=>hs(e.onClick),children:s.jsxs("div",{className:"flex gap-2 items-center",children:[e.icon,s.jsx(ue,{children:e.text})]})})}function Us(e){return s.jsx(f.Suspense,{fallback:s.jsx(gs,{className:"h-[34px] w-[34px] rounded-full stack-scope"}),children:s.jsx(Os,{...e})})}function Os(e){const r=Je(),t=e.mockUser?{displayName:e.mockUser.displayName||"Mock User",primaryEmail:e.mockUser.primaryEmail||"mock@example.com",profileImageUrl:e.mockUser.profileImageUrl,signOut:()=>(console.log("Mock sign out - no action taken in demo mode"),Promise.resolve())}:r;return s.jsx(Ts,{...e,user:t})}function Ts(e){const{t:r}=vs(),t=e.user,n=ls(),a={size:20,className:"h-4 w-4"};return s.jsxs(js,{children:[s.jsx(bs,{className:"outline-none stack-scope",children:s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(qe,{user:t}),t&&e.showUserInfo&&s.jsxs("div",{className:"flex flex-col justify-center text-left",children:[s.jsx("div",{className:"max-w-40 truncate",children:t.displayName}),s.jsx("div",{className:"max-w-40 truncate text-sm text-gray-500",children:t.primaryEmail})]})]})}),s.jsxs(ws,{className:"stack-scope",children:[s.jsx(Ns,{children:s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(qe,{user:t}),s.jsxs("div",{children:[t&&s.jsx(ue,{className:"max-w-40 truncate",children:t.displayName}),t&&s.jsx(ue,{className:"max-w-40 truncate",variant:"secondary",type:"label",children:t.primaryEmail}),!t&&s.jsx(ue,{children:r("Not signed in")})]})]})}),s.jsx(ks,{}),t&&s.jsx(Y,{text:r("Account settings"),onClick:async()=>{e.mockUser?console.log("Mock account settings - no navigation in demo mode"):await n.redirectToAccountSettings()},icon:s.jsx(Es,{...a})}),!t&&s.jsx(Y,{text:r("Sign in"),onClick:async()=>{e.mockUser?console.log("Mock sign in - no navigation in demo mode"):await n.redirectToSignIn()},icon:s.jsx(Rs,{...a})}),!t&&s.jsx(Y,{text:r("Sign up"),onClick:async()=>{e.mockUser?console.log("Mock sign up - no navigation in demo mode"):await n.redirectToSignUp()},icon:s.jsx(Is,{...a})}),t&&e.extraItems&&e.extraItems.map((o,c)=>s.jsx(Y,{...o},c)),e.colorModeToggle&&s.jsx(Y,{text:r("Toggle theme"),onClick:e.colorModeToggle,icon:s.jsx(As,{...a})}),t&&s.jsx(Y,{text:r("Sign out"),onClick:async()=>{e.mockUser?console.log("Mock sign out - no action taken in demo mode"):await t.signOut()},icon:s.jsx(Ms,{...a})})]})]})}var R,h,ae,S,V,X,z,I,oe,Z,ee,W,G,Q,se,x,ie,Ne,ke,Ce,Se,Ee,Re,Me,ss,We,Ls=(We=class extends Ye{constructor(r,t){super();j(this,x);j(this,R);j(this,h);j(this,ae);j(this,S);j(this,V);j(this,X);j(this,z);j(this,I);j(this,oe);j(this,Z);j(this,ee);j(this,W);j(this,G);j(this,Q);j(this,se,new Set);this.options=t,m(this,R,r),m(this,I,null),m(this,z,Fe()),this.options.experimental_prefetchInRender||i(this,z).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,h).addObserver(this),He(i(this,h),this.options)?y(this,x,ie).call(this):this.updateResult(),y(this,x,Se).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ae(i(this,h),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ae(i(this,h),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,y(this,x,Ee).call(this),y(this,x,Re).call(this),i(this,h).removeObserver(this)}setOptions(r,t){const n=this.options,a=i(this,h);if(this.options=i(this,R).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof U(this.options.enabled,i(this,h))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");y(this,x,Me).call(this),i(this,h).setOptions(this.options),n._defaulted&&!me(this.options,n)&&i(this,R).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,h),observer:this});const o=this.hasListeners();o&&Ke(i(this,h),a,this.options,n)&&y(this,x,ie).call(this),this.updateResult(t),o&&(i(this,h)!==a||U(this.options.enabled,i(this,h))!==U(n.enabled,i(this,h))||he(this.options.staleTime,i(this,h))!==he(n.staleTime,i(this,h)))&&y(this,x,Ne).call(this);const c=y(this,x,ke).call(this);o&&(i(this,h)!==a||U(this.options.enabled,i(this,h))!==U(n.enabled,i(this,h))||c!==i(this,Q))&&y(this,x,Ce).call(this,c)}getOptimisticResult(r){const t=i(this,R).getQueryCache().build(i(this,R),r),n=this.createResult(t,r);return Ps(this,n)&&(m(this,S,n),m(this,X,this.options),m(this,V,i(this,h).state)),n}getCurrentResult(){return i(this,S)}trackResult(r,t){const n={};return Object.keys(r).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),t==null||t(a),r[a])})}),n}trackProp(r){i(this,se).add(r)}getCurrentQuery(){return i(this,h)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const t=i(this,R).defaultQueryOptions(r),n=i(this,R).getQueryCache().build(i(this,R),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(r){return y(this,x,ie).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,S)))}createResult(r,t){var re;const n=i(this,h),a=this.options,o=i(this,S),c=i(this,V),p=i(this,X),v=r!==n?r.state:i(this,ae),{state:d}=r;let l={...d},w=!1,g;if(t._optimisticResults){const N=this.hasListeners(),D=!N&&He(r,t),P=N&&Ke(r,n,t,a);(D||P)&&(l={...l,...xs(d.data,r.options)}),t._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:b,errorUpdatedAt:E,status:A}=l;if(t.select&&l.data!==void 0)if(o&&l.data===(c==null?void 0:c.data)&&t.select===i(this,oe))g=i(this,Z);else try{m(this,oe,t.select),g=t.select(l.data),g=ze(o==null?void 0:o.data,g,t),m(this,Z,g),m(this,I,null)}catch(N){m(this,I,N)}else g=l.data;if(t.placeholderData!==void 0&&g===void 0&&A==="pending"){let N;if(o!=null&&o.isPlaceholderData&&t.placeholderData===(p==null?void 0:p.placeholderData))N=o.data;else if(N=typeof t.placeholderData=="function"?t.placeholderData((re=i(this,ee))==null?void 0:re.state.data,i(this,ee)):t.placeholderData,t.select&&N!==void 0)try{N=t.select(N),m(this,I,null)}catch(D){m(this,I,D)}N!==void 0&&(A="success",g=ze(o==null?void 0:o.data,N,t),w=!0)}i(this,I)&&(b=i(this,I),g=i(this,Z),E=Date.now(),A="error");const J=l.fetchStatus==="fetching",T=A==="pending",L=A==="error",ve=T&&J,le=g!==void 0,C={status:A,fetchStatus:l.fetchStatus,isPending:T,isSuccess:A==="success",isError:L,isInitialLoading:ve,isLoading:ve,data:g,dataUpdatedAt:l.dataUpdatedAt,error:b,errorUpdatedAt:E,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>v.dataUpdateCount||l.errorUpdateCount>v.errorUpdateCount,isFetching:J,isRefetching:J&&!T,isLoadingError:L&&!le,isPaused:l.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:L&&le,isStale:De(r,t),refetch:this.refetch,promise:i(this,z)};if(this.options.experimental_prefetchInRender){const N=$=>{C.status==="error"?$.reject(C.error):C.data!==void 0&&$.resolve(C.data)},D=()=>{const $=m(this,z,C.promise=Fe());N($)},P=i(this,z);switch(P.status){case"pending":r.queryHash===n.queryHash&&N(P);break;case"fulfilled":(C.status==="error"||C.data!==P.value)&&D();break;case"rejected":(C.status!=="error"||C.error!==P.reason)&&D();break}}return C}updateResult(r){const t=i(this,S),n=this.createResult(i(this,h),this.options);if(m(this,V,i(this,h).state),m(this,X,this.options),i(this,V).data!==void 0&&m(this,ee,i(this,h)),me(n,t))return;m(this,S,n);const a={},o=()=>{if(!t)return!0;const{notifyOnChangeProps:c}=this.options,p=typeof c=="function"?c():c;if(p==="all"||!p&&!i(this,se).size)return!0;const u=new Set(p??i(this,se));return this.options.throwOnError&&u.add("error"),Object.keys(i(this,S)).some(v=>{const d=v;return i(this,S)[d]!==t[d]&&u.has(d)})};(r==null?void 0:r.listeners)!==!1&&o()&&(a.listeners=!0),y(this,x,ss).call(this,{...a,...r})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&y(this,x,Se).call(this)}},R=new WeakMap,h=new WeakMap,ae=new WeakMap,S=new WeakMap,V=new WeakMap,X=new WeakMap,z=new WeakMap,I=new WeakMap,oe=new WeakMap,Z=new WeakMap,ee=new WeakMap,W=new WeakMap,G=new WeakMap,Q=new WeakMap,se=new WeakMap,x=new WeakSet,ie=function(r){y(this,x,Me).call(this);let t=i(this,h).fetch(this.options,r);return r!=null&&r.throwOnError||(t=t.catch(us)),t},Ne=function(){y(this,x,Ee).call(this);const r=he(this.options.staleTime,i(this,h));if(we||i(this,S).isStale||!Be(r))return;const n=ds(i(this,S).dataUpdatedAt,r)+1;m(this,W,setTimeout(()=>{i(this,S).isStale||this.updateResult()},n))},ke=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,h)):this.options.refetchInterval)??!1},Ce=function(r){y(this,x,Re).call(this),m(this,Q,r),!(we||U(this.options.enabled,i(this,h))===!1||!Be(i(this,Q))||i(this,Q)===0)&&m(this,G,setInterval(()=>{(this.options.refetchIntervalInBackground||ms.isFocused())&&y(this,x,ie).call(this)},i(this,Q)))},Se=function(){y(this,x,Ne).call(this),y(this,x,Ce).call(this,y(this,x,ke).call(this))},Ee=function(){i(this,W)&&(clearTimeout(i(this,W)),m(this,W,void 0))},Re=function(){i(this,G)&&(clearInterval(i(this,G)),m(this,G,void 0))},Me=function(){const r=i(this,R).getQueryCache().build(i(this,R),this.options);if(r===i(this,h))return;const t=i(this,h);m(this,h,r),m(this,ae,r.state),this.hasListeners()&&(t==null||t.removeObserver(this),r.addObserver(this))},ss=function(r){pe.batch(()=>{r.listeners&&this.listeners.forEach(t=>{t(i(this,S))}),i(this,R).getQueryCache().notify({query:i(this,h),type:"observerResultsUpdated"})})},We);function Ds(e,r){return U(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function He(e,r){return Ds(e,r)||e.state.data!==void 0&&Ae(e,r,r.refetchOnMount)}function Ae(e,r,t){if(U(r.enabled,e)!==!1){const n=typeof t=="function"?t(e):t;return n==="always"||n!==!1&&De(e,r)}return!1}function Ke(e,r,t,n){return(e!==r||U(n.enabled,e)===!1)&&(!t.suspense||e.state.status!=="error")&&De(e,t)}function De(e,r){return U(r.enabled,e)!==!1&&e.isStaleByTime(he(r.staleTime,e))}function Ps(e,r){return!me(e.getCurrentResult(),r)}var q,H,M,F,B,de,Ie,Ge,$s=(Ge=class extends Ye{constructor(r,t){super();j(this,B);j(this,q);j(this,H);j(this,M);j(this,F);m(this,q,r),this.setOptions(t),this.bindMethods(),y(this,B,de).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const t=this.options;this.options=i(this,q).defaultMutationOptions(r),me(this.options,t)||i(this,q).getMutationCache().notify({type:"observerOptionsUpdated",mutation:i(this,M),observer:this}),t!=null&&t.mutationKey&&this.options.mutationKey&&Qe(t.mutationKey)!==Qe(this.options.mutationKey)?this.reset():((n=i(this,M))==null?void 0:n.state.status)==="pending"&&i(this,M).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=i(this,M))==null||r.removeObserver(this)}onMutationUpdate(r){y(this,B,de).call(this),y(this,B,Ie).call(this,r)}getCurrentResult(){return i(this,H)}reset(){var r;(r=i(this,M))==null||r.removeObserver(this),m(this,M,void 0),y(this,B,de).call(this),y(this,B,Ie).call(this)}mutate(r,t){var n;return m(this,F,t),(n=i(this,M))==null||n.removeObserver(this),m(this,M,i(this,q).getMutationCache().build(i(this,q),this.options)),i(this,M).addObserver(this),i(this,M).execute(r)}},q=new WeakMap,H=new WeakMap,M=new WeakMap,F=new WeakMap,B=new WeakSet,de=function(){var t;const r=((t=i(this,M))==null?void 0:t.state)??fs();m(this,H,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Ie=function(r){pe.batch(()=>{var t,n,a,o,c,p,u,v;if(i(this,F)&&this.hasListeners()){const d=i(this,H).variables,l=i(this,H).context;(r==null?void 0:r.type)==="success"?((n=(t=i(this,F)).onSuccess)==null||n.call(t,r.data,d,l),(o=(a=i(this,F)).onSettled)==null||o.call(a,r.data,null,d,l)):(r==null?void 0:r.type)==="error"&&((p=(c=i(this,F)).onError)==null||p.call(c,r.error,d,l),(v=(u=i(this,F)).onSettled)==null||v.call(u,void 0,r.error,d,l))}this.listeners.forEach(d=>{d(i(this,H))})})},Ge),ts=f.createContext(!1),Fs=()=>f.useContext(ts);ts.Provider;function Bs(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var zs=f.createContext(Bs()),Qs=()=>f.useContext(zs);function rs(e,r){return typeof e=="function"?e(...r):!!e}function Ue(){}var qs=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},Hs=e=>{f.useEffect(()=>{e.clearReset()},[e])},Ks=({result:e,errorResetBoundary:r,throwOnError:t,query:n})=>e.isError&&!r.isReset()&&!e.isFetching&&n&&rs(t,[e.error,n]),_s=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Vs=(e,r)=>e.isLoading&&e.isFetching&&!r,Ws=(e,r)=>(e==null?void 0:e.suspense)&&r.isPending,_e=(e,r,t)=>r.fetchOptimistic(e).catch(()=>{t.clearReset()});function Gs(e,r,t){var d,l,w,g,b;const n=ye(),a=Fs(),o=Qs(),c=n.defaultQueryOptions(e);(l=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||l.call(d,c),c._optimisticResults=a?"isRestoring":"optimistic",_s(c),qs(c,o),Hs(o);const p=!n.getQueryCache().get(c.queryHash),[u]=f.useState(()=>new r(n,c)),v=u.getOptimisticResult(c);if(f.useSyncExternalStore(f.useCallback(E=>{const A=a?Ue:u.subscribe(pe.batchCalls(E));return u.updateResult(),A},[u,a]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),f.useEffect(()=>{u.setOptions(c,{listeners:!1})},[c,u]),Ws(c,v))throw _e(c,u,o);if(Ks({result:v,errorResetBoundary:o,throwOnError:c.throwOnError,query:n.getQueryCache().get(c.queryHash)}))throw v.error;if((g=(w=n.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||g.call(w,c,v),c.experimental_prefetchInRender&&!we&&Vs(v,a)){const E=p?_e(c,u,o):(b=n.getQueryCache().get(c.queryHash))==null?void 0:b.promise;E==null||E.catch(Ue).finally(()=>{u.updateResult()})}return c.notifyOnChangeProps?v:u.trackResult(v)}function Js(e,r){return Gs(e,Ls)}function ns(e,r){const t=ye(),[n]=f.useState(()=>new $s(t,e));f.useEffect(()=>{n.setOptions(e)},[n,e]);const a=f.useSyncExternalStore(f.useCallback(c=>n.subscribe(pe.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=f.useCallback((c,p)=>{n.mutate(c,p).catch(Ue)},[n]);if(a.error&&rs(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=O("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=O("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=O("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=O("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=O("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=O("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=O("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=O("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),as=f.forwardRef(({className:e,type:r,...t},n)=>s.jsx("input",{type:r,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));as.displayName="Input";const nt=({children:e,color:r="#5227FF",speed:t=1,chaos:n=1,thickness:a=2,className:o,style:c})=>{const u=`turbulent-displace-${f.useId().replace(/[:]/g,"")}`,v=f.useRef(null),d=f.useRef(null),l=f.useRef(null),w=()=>{var re,N,D,P;const b=v.current,E=d.current;if(!b||!E)return;l.current&&(l.current.style.filter=`url(#${u})`);const A=Math.max(1,Math.round(E.clientWidth||E.getBoundingClientRect().width||0)),J=Math.max(1,Math.round(E.clientHeight||E.getBoundingClientRect().height||0)),T=Array.from(b.querySelectorAll('feOffset > animate[attributeName="dy"]'));T.length>=2&&((re=T[0])==null||re.setAttribute("values",`${J}; 0`),(N=T[1])==null||N.setAttribute("values",`0; -${J}`));const L=Array.from(b.querySelectorAll('feOffset > animate[attributeName="dx"]'));L.length>=2&&((D=L[0])==null||D.setAttribute("values",`${A}; 0`),(P=L[1])==null||P.setAttribute("values",`0; -${A}`));const le=Math.max(.001,6/(t||1));[...T,...L].forEach($=>$.setAttribute("dur",`${le}s`));const je=b.querySelector("feDisplacementMap");je&&je.setAttribute("scale",String(30*(n||1)));const C=b.querySelector(`#${CSS.escape(u)}`);C&&(C.setAttribute("x","-200%"),C.setAttribute("y","-200%"),C.setAttribute("width","500%"),C.setAttribute("height","500%")),requestAnimationFrame(()=>{[...T,...L].forEach($=>{if(typeof $.beginElement=="function")try{$.beginElement()}catch{}})})};f.useEffect(()=>{w()},[t,n]),f.useLayoutEffect(()=>{if(!d.current)return;const b=new ResizeObserver(()=>w());return b.observe(d.current),w(),()=>b.disconnect()},[]);const g={"--electric-border-color":r,"--eb-border-width":`${a}px`};return s.jsxs("div",{ref:d,className:`electric-border ${o??""}`,style:{...g,...c},children:[s.jsx("svg",{ref:v,className:"eb-svg","aria-hidden":!0,focusable:"false",children:s.jsx("defs",{children:s.jsxs("filter",{id:u,colorInterpolationFilters:"sRGB",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[s.jsx("feTurbulence",{type:"turbulence",baseFrequency:"0.02",numOctaves:"10",result:"noise1",seed:"1"}),s.jsx("feOffset",{in:"noise1",dx:"0",dy:"0",result:"offsetNoise1",children:s.jsx("animate",{attributeName:"dy",values:"700; 0",dur:"6s",repeatCount:"indefinite",calcMode:"linear"})}),s.jsx("feTurbulence",{type:"turbulence",baseFrequency:"0.02",numOctaves:"10",result:"noise2",seed:"1"}),s.jsx("feOffset",{in:"noise2",dx:"0",dy:"0",result:"offsetNoise2",children:s.jsx("animate",{attributeName:"dy",values:"0; -700",dur:"6s",repeatCount:"indefinite",calcMode:"linear"})}),s.jsx("feTurbulence",{type:"turbulence",baseFrequency:"0.02",numOctaves:"10",result:"noise1",seed:"2"}),s.jsx("feOffset",{in:"noise1",dx:"0",dy:"0",result:"offsetNoise3",children:s.jsx("animate",{attributeName:"dx",values:"490; 0",dur:"6s",repeatCount:"indefinite",calcMode:"linear"})}),s.jsx("feTurbulence",{type:"turbulence",baseFrequency:"0.02",numOctaves:"10",result:"noise2",seed:"2"}),s.jsx("feOffset",{in:"noise2",dx:"0",dy:"0",result:"offsetNoise4",children:s.jsx("animate",{attributeName:"dx",values:"0; -490",dur:"6s",repeatCount:"indefinite",calcMode:"linear"})}),s.jsx("feComposite",{in:"offsetNoise1",in2:"offsetNoise2",result:"part1"}),s.jsx("feComposite",{in:"offsetNoise3",in2:"offsetNoise4",result:"part2"}),s.jsx("feBlend",{in:"part1",in2:"part2",mode:"color-dodge",result:"combinedNoise"}),s.jsx("feDisplacementMap",{in:"SourceGraphic",in2:"combinedNoise",scale:"30",xChannelSelector:"R",yChannelSelector:"B"})]})})}),s.jsxs("div",{className:"eb-layers",children:[s.jsx("div",{ref:l,className:"eb-stroke"}),s.jsx("div",{className:"eb-glow-1"}),s.jsx("div",{className:"eb-glow-2"}),s.jsx("div",{className:"eb-background-glow"})]}),s.jsx("div",{className:"eb-content",children:e})]})},it=ps("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:e,variant:r,...t}){return s.jsx("div",{className:ge(it({variant:r}),e),...t})}function at({confidence:e,className:r}){return e===void 0||e>=.6?null:s.jsx(Oe,{variant:"outline",className:ge("text-orange-700 border-orange-300 bg-orange-50 dark:text-orange-400 dark:border-orange-600 dark:bg-orange-950/20",r),children:"Speculative"})}function ot({sources:e,className:r}){return!e||e.length===0?null:s.jsxs("div",{className:ge("space-y-2",r),children:[s.jsx("h5",{className:"text-xs font-medium text-muted-foreground",children:"Sources"}),s.jsx("div",{className:"space-y-1",children:e.map((t,n)=>s.jsxs("div",{className:"text-xs",children:[s.jsx("div",{className:"flex items-center gap-1 mb-1",children:s.jsxs("button",{onClick:()=>window.open(t.url,"_blank","noopener,noreferrer"),className:"text-primary hover:text-primary/80 transition-colors flex items-center gap-1",children:[s.jsx("span",{className:"underline",children:new URL(t.url).hostname}),s.jsx(Pe,{className:"h-3 w-3"})]})}),s.jsxs("p",{className:"text-muted-foreground italic pl-1 border-l-2 border-muted",children:['"',t.excerpt,'"']})]},n))})]})}function ct(e,r){let t=`# Business Analysis Report

**URL:** ${r}

`;return e.overview&&(t+=`## Overview & Business

`,e.overview.valueProposition&&(t+=`### Value Proposition
${e.overview.valueProposition}

`),e.overview.targetAudience&&(t+=`### Target Audience
${e.overview.targetAudience}

`),e.overview.monetization&&(t+=`### Monetization
${e.overview.monetization}

`)),e.market&&(t+=`## Market & Competitors

`,e.market.competitors&&e.market.competitors.length>0&&(t+=`### Competitors

`,e.market.competitors.forEach(n=>{n.url?t+=`- [${n.name}](${n.url})`:t+=`- ${n.name}`,n.notes&&(t+=` - ${n.notes}`),t+=`
`}),t+=`
`),e.market.swot&&(t+=`### SWOT Analysis

`,e.market.swot.strengths&&e.market.swot.strengths.length>0&&(t+=`#### Strengths
`,e.market.swot.strengths.forEach(n=>{t+=`- ${n}
`}),t+=`
`),e.market.swot.weaknesses&&e.market.swot.weaknesses.length>0&&(t+=`#### Weaknesses
`,e.market.swot.weaknesses.forEach(n=>{t+=`- ${n}
`}),t+=`
`),e.market.swot.opportunities&&e.market.swot.opportunities.length>0&&(t+=`#### Opportunities
`,e.market.swot.opportunities.forEach(n=>{t+=`- ${n}
`}),t+=`
`),e.market.swot.threats&&e.market.swot.threats.length>0&&(t+=`#### Threats
`,e.market.swot.threats.forEach(n=>{t+=`- ${n}
`}),t+=`
`))),e.technical&&(t+=`## Technical & Website

`,e.technical.techStack&&e.technical.techStack.length>0&&(t+=`### Technology Stack
`,e.technical.techStack.forEach(n=>{t+=`- ${n}
`}),t+=`
`),e.technical.uiColors&&e.technical.uiColors.length>0&&(t+=`### UI Colors
`,e.technical.uiColors.forEach(n=>{t+=`- ${n}
`}),t+=`
`),e.technical.keyPages&&e.technical.keyPages.length>0&&(t+=`### Key Pages
`,e.technical.keyPages.forEach(n=>{t+=`- ${n}
`}),t+=`
`)),e.data&&(t+=`## Data & Analytics

`,e.data.trafficEstimates&&(t+=`### Traffic Estimates
`,t+=`**Value:** ${e.data.trafficEstimates.value}
`,e.data.trafficEstimates.source&&(t+=`**Source:** ${e.data.trafficEstimates.source}
`),t+=`
`),e.data.keyMetrics&&e.data.keyMetrics.length>0&&(t+=`### Key Metrics

`,e.data.keyMetrics.forEach(n=>{t+=`**${n.name}:** ${n.value}`,n.source&&(t+=` (Source: ${n.source})`),t+=`
`}),t+=`
`)),e.synthesis&&(t+=`## Synthesis & Key Takeaways

`,e.synthesis.summary&&(t+=`### Executive Summary
${e.synthesis.summary}

`),e.synthesis.keyInsights&&e.synthesis.keyInsights.length>0&&(t+=`### Key Insights
`,e.synthesis.keyInsights.forEach(n=>{t+=`- ${n}
`}),t+=`
`),e.synthesis.nextActions&&e.synthesis.nextActions.length>0&&(t+=`### Next Actions
`,e.synthesis.nextActions.forEach(n=>{t+=`- ${n}
`}),t+=`
`)),t}function lt(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function ht(e,r){try{const t={url:r,analyzedAt:new Date().toISOString(),structuredAnalysis:e},n=JSON.stringify(t,null,2),a=new Blob([n],{type:"application/json"}),c=`analysis-${lt(r)}.json`,p=URL.createObjectURL(a),u=document.createElement("a");u.href=p,u.download=c,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(p)}catch(t){console.error("Failed to download JSON:",t)}}function ne({title:e,children:r}){const[t,n]=f.useState(!0),a=()=>{n(!t)};return s.jsxs("div",{className:"border rounded-lg",children:[s.jsxs("button",{onClick:a,className:"w-full flex items-center justify-between p-4 text-left hover:bg-muted/50 transition-colors",children:[s.jsx("h3",{className:"text-lg font-semibold",children:e}),t?s.jsx(Xs,{className:"h-5 w-5 text-muted-foreground"}):s.jsx(Zs,{className:"h-5 w-5 text-muted-foreground"})]}),t&&s.jsx("div",{className:"px-4 pb-4 border-t",children:r})]})}function ut({data:e,url:r}){if(!e)return null;const t=async()=>{try{const a=ct(e,r);await navigator.clipboard.writeText(a)}catch(a){console.error("Failed to copy markdown:",a)}},n=()=>{ht(e,r)};return s.jsx(K,{children:s.jsxs(_,{className:"p-6",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(te,{variant:"outline",size:"sm",onClick:t,className:"flex items-center gap-2",children:[s.jsx(is,{className:"h-4 w-4"}),"Copy Markdown"]}),s.jsxs(te,{variant:"outline",size:"sm",onClick:n,className:"flex items-center gap-2",children:[s.jsx(st,{className:"h-4 w-4"}),"Download JSON"]})]}),s.jsxs("div",{className:"space-y-4",children:[e.overview&&s.jsx(ne,{title:"Overview & Business",children:s.jsxs("div",{className:"space-y-3 mt-3",children:[e.overview.valueProposition&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Value Proposition"}),s.jsx("p",{className:"text-sm",children:e.overview.valueProposition})]}),e.overview.targetAudience&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Target Audience"}),s.jsx("p",{className:"text-sm",children:e.overview.targetAudience})]}),e.overview.monetization&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Monetization"}),s.jsx("p",{className:"text-sm",children:e.overview.monetization})]})]})}),e.market&&s.jsx(ne,{title:"Market & Competitors",children:s.jsxs("div",{className:"space-y-4 mt-3",children:[e.market.competitors&&e.market.competitors.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Competitors"}),s.jsx("div",{className:"space-y-2",children:e.market.competitors.map((a,o)=>s.jsx("div",{className:"flex items-start gap-2",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:a.name}),a.url&&s.jsx("button",{onClick:()=>window.open(a.url,"_blank","noopener,noreferrer"),className:"text-primary hover:text-primary/80 transition-colors",children:s.jsx(Pe,{className:"h-3 w-3"})})]}),a.notes&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.notes})]})},o))})]}),e.market.swot&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:"SWOT Analysis"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.market.swot.strengths&&e.market.swot.strengths.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h5",{className:"font-medium text-xs text-green-700 dark:text-green-400",children:"Strengths"}),s.jsx("ul",{className:"text-xs space-y-1",children:e.market.swot.strengths.map((a,o)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 mt-0.5",children:"•"}),s.jsx("span",{children:a})]},o))})]}),e.market.swot.weaknesses&&e.market.swot.weaknesses.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h5",{className:"font-medium text-xs text-red-700 dark:text-red-400",children:"Weaknesses"}),s.jsx("ul",{className:"text-xs space-y-1",children:e.market.swot.weaknesses.map((a,o)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx("span",{className:"text-red-600 dark:text-red-400 mt-0.5",children:"•"}),s.jsx("span",{children:a})]},o))})]}),e.market.swot.opportunities&&e.market.swot.opportunities.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h5",{className:"font-medium text-xs text-blue-700 dark:text-blue-400",children:"Opportunities"}),s.jsx("ul",{className:"text-xs space-y-1",children:e.market.swot.opportunities.map((a,o)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400 mt-0.5",children:"•"}),s.jsx("span",{children:a})]},o))})]}),e.market.swot.threats&&e.market.swot.threats.length>0&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("h5",{className:"font-medium text-xs text-orange-700 dark:text-orange-400",children:"Threats"}),s.jsx("ul",{className:"text-xs space-y-1",children:e.market.swot.threats.map((a,o)=>s.jsxs("li",{className:"flex items-start gap-1",children:[s.jsx("span",{className:"text-orange-600 dark:text-orange-400 mt-0.5",children:"•"}),s.jsx("span",{children:a})]},o))})]})]})]})]})}),e.technical&&s.jsx(ne,{title:"Technical & Website",children:s.jsxs("div",{className:"space-y-3 mt-3",children:[e.technical.techStack&&e.technical.techStack.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Technology Stack"}),s.jsx(at,{confidence:e.technical.confidence})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.technical.techStack.map((a,o)=>s.jsx("span",{className:"px-2 py-1 bg-muted rounded-md text-xs font-medium",children:a},o))})]}),e.technical.uiColors&&e.technical.uiColors.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:"UI Colors"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.technical.uiColors.map((a,o)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded border border-border",style:{backgroundColor:a}}),s.jsx("span",{className:"text-xs font-mono",children:a})]},o))})]}),e.technical.keyPages&&e.technical.keyPages.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Key Pages"}),s.jsx("ul",{className:"text-sm space-y-1",children:e.technical.keyPages.map((a,o)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary mt-1.5",children:"•"}),s.jsx("span",{children:a})]},o))})]})]})}),e.data&&s.jsx(ne,{title:"Data & Analytics",children:s.jsxs("div",{className:"space-y-3 mt-3",children:[e.data.trafficEstimates&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Traffic Estimates"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:e.data.trafficEstimates.value}),e.data.trafficEstimates.source&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Source: ",e.data.trafficEstimates.source]})]})]}),e.data.keyMetrics&&e.data.keyMetrics.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Key Metrics"}),s.jsx("div",{className:"space-y-2",children:e.data.keyMetrics.map((a,o)=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:a.name}),s.jsx("span",{className:"text-sm text-muted-foreground",children:a.value})]}),a.source&&s.jsxs("div",{className:"text-xs text-muted-foreground pl-0",children:["Source: ",a.source]})]},o))})]}),e.sources&&s.jsx(ot,{sources:e.sources,className:"mt-4"})]})}),e.synthesis&&s.jsx(ne,{title:"Synthesis & Key Takeaways",children:s.jsxs("div",{className:"space-y-3 mt-3",children:[e.synthesis.summary&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Executive Summary"}),s.jsx("p",{className:"text-sm",children:e.synthesis.summary})]}),e.synthesis.keyInsights&&e.synthesis.keyInsights.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Key Insights"}),s.jsx("ul",{className:"text-sm space-y-1",children:e.synthesis.keyInsights.map((a,o)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary mt-1.5",children:"•"}),s.jsx("span",{children:a})]},o))})]}),e.synthesis.nextActions&&e.synthesis.nextActions.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:"Next Actions"}),s.jsx("ul",{className:"text-sm space-y-1",children:e.synthesis.nextActions.map((a,o)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-primary mt-1.5",children:"•"}),s.jsx("span",{children:a})]},o))})]})]})})]})]})})}function dt(e){let r=`# 7-Day Business Improvement Plan

`;return r+=`## Business Improvement Angles

`,e.twists.forEach((t,n)=>{r+=`${n+1}. ${t}
`}),r+=`
## Daily Action Plan

`,e.sevenDayPlan.forEach(t=>{r+=`### Day ${t.day}

`,t.tasks.forEach(n=>{r+=`- [ ] ${n}
`}),r+=`
`}),r+=`
*Generated on ${new Date(e.generatedAt).toLocaleDateString()}*
`,r}function mt({improvement:e,className:r=""}){const[t,n]=f.useState(!1),a=async()=>{try{n(!0);const o=dt(e);await navigator.clipboard.writeText(o),setTimeout(()=>n(!1),1e3)}catch(o){console.error("Failed to copy plan:",o),n(!1)}};return s.jsxs(K,{className:r,children:[s.jsx(Te,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Le,{className:"flex items-center gap-2",children:[s.jsx(xe,{className:"h-5 w-5 text-yellow-500"}),"Business Improvement Suggestions"]}),s.jsxs(te,{variant:"outline",size:"sm",onClick:a,disabled:t,className:"flex items-center gap-2",children:[t?s.jsx(et,{className:"h-4 w-4 text-green-500"}):s.jsx(is,{className:"h-4 w-4"}),t?"Copied!":"Copy Plan"]})]})}),s.jsxs(_,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[s.jsx(xe,{className:"h-4 w-4"}),"Three Ways to Improve This Business"]}),s.jsx("div",{className:"space-y-3",children:e.twists.map((o,c)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Oe,{variant:"secondary",className:"mt-0.5 min-w-fit",children:c+1}),s.jsx("p",{className:"text-sm leading-relaxed",children:o})]},c))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[s.jsx(Ys,{className:"h-4 w-4"}),"7-Day Shipping Plan"]}),s.jsx("div",{className:"space-y-4",children:e.sevenDayPlan.map(o=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs(Oe,{variant:"outline",className:"font-medium",children:["Day ",o.day]}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[o.tasks.length," task",o.tasks.length!==1?"s":""]})]}),s.jsx("ul",{className:"space-y-1",children:o.tasks.map((c,p)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx("span",{className:"text-primary mt-1.5 text-xs",children:"•"}),s.jsx("span",{className:"leading-relaxed",children:c})]},p))})]},o.day))})]}),s.jsxs("div",{className:"text-xs text-muted-foreground text-center pt-2 border-t",children:["Generated on ",new Date(e.generatedAt).toLocaleDateString()," at"," ",new Date(e.generatedAt).toLocaleTimeString()]})]})]})}const xt="";class k extends Error{constructor(r,t,n){super(r),this.status=t,this.details=n,this.name="ApiClientError"}}async function Ve(e,r={}){const t=`${xt}${e}`;try{const n=await fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",...r.headers},...r});if(!n.ok){let a=`HTTP ${n.status}: ${n.statusText}`,o=null;try{const c=await n.json();c.error&&(a=c.error,o=c.details)}catch{}throw new k(a,n.status,o)}return await n.json()}catch(n){throw n instanceof k?n:n instanceof TypeError&&n.message.includes("fetch")?new k("Network error: Unable to connect to the server. Please check your internet connection.",0):new k(`Unexpected error: ${n instanceof Error?n.message:"Unknown error"}`,0)}}class os{static async getAnalyses(){try{return await Ve("/api/business-analyses",{method:"GET"})}catch(r){throw r instanceof k?r:new k("Failed to fetch analyses")}}static async analyzeUrl(r){if(!r||typeof r!="string")throw new k("URL is required and must be a string",400);try{new URL(r)}catch{throw new k("Invalid URL format",400)}try{return await Ve("/api/business-analyses/analyze",{method:"POST",body:JSON.stringify({url:r})})}catch(t){throw t instanceof k?t:new k("Failed to analyze URL")}}}function ft(e){return e instanceof k||e instanceof Error?e.message:"An unexpected error occurred"}const fe={all:["minimal-api"],analyses:()=>[...fe.all,"analyses"],analysesList:()=>[...fe.analyses(),"list"]};function pt(){return Js({queryKey:fe.analysesList(),queryFn:()=>os.getAnalyses(),staleTime:5*60*1e3,retry:(e,r)=>r instanceof k&&r.status&&r.status>=400&&r.status<500?!1:e<3})}function yt(){const e=ye();return ns({mutationFn:r=>os.analyzeUrl(r),onSuccess:r=>{e.setQueryData(fe.analysesList(),t=>t?[r,...t]:[r])},onError:r=>{console.error("URL analysis failed:",r)},retry:(r,t)=>t instanceof k&&t.status&&(t.status>=400&&t.status<500||t.status===500&&t.message.includes("API key"))?!1:r<2})}function cs(){return{getErrorMessage:ft,isNetworkError:e=>e instanceof k&&e.status===0,isValidationError:e=>e instanceof k&&e.status===400,isServerError:e=>e instanceof k&&e.status!==void 0&&e.status>=500,isApiKeyError:e=>e instanceof k&&e.message.toLowerCase().includes("api key")}}function gt({analysis:e,className:r=""}){const[t,n]=f.useState(!1),{toast:a}=ys(),o=ye(),c=e,p=ns({mutationFn:async d=>{const l=await fetch(`/api/business-analyses/${d}/improve`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!l.ok){const w=await l.json();throw new Error(w.message||"Failed to generate improvement suggestions")}return l.json()},onSuccess:d=>{o.setQueryData(["/api/business-analyses"],l=>l&&l.map(w=>w.id===e.id?{...w,improvements:d}:w)),n(!0),a({title:"Improvement Suggestions Generated",description:"Business improvement plan has been created successfully"})},onError:d=>{a({title:"Generation Failed",description:d.message||"Failed to generate improvement suggestions",variant:"destructive"})}}),u=()=>{c.improvements?n(!0):p.mutate(e.id)},v=()=>{n(!1)};return s.jsxs("div",{className:`space-y-6 ${r}`,children:[e.structured&&s.jsx(ut,{data:e.structured,url:e.url}),s.jsxs(K,{className:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-950/20 dark:to-orange-950/20 border-yellow-200 dark:border-yellow-800",children:[s.jsx(Te,{children:s.jsxs(Le,{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[s.jsx(xe,{className:"h-5 w-5"}),"Business Improvement Opportunity"]})}),s.jsxs(_,{children:[s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mb-4",children:"Get actionable suggestions to build a better version of this business with a 7-day shipping plan."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(te,{onClick:u,disabled:p.isPending,className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx(rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xe,{className:"h-4 w-4 mr-2"}),c.improvements?"Show Improvements":"Improve This Business"]})}),t&&c.improvements&&s.jsx(te,{variant:"outline",onClick:v,className:"border-yellow-300 text-yellow-700 hover:bg-yellow-50 dark:border-yellow-700 dark:text-yellow-300 dark:hover:bg-yellow-950/20",children:"Hide Improvements"})]})]})]}),t&&c.improvements&&s.jsx(mt,{improvement:c.improvements,className:"animate-in slide-in-from-bottom-4 duration-300"})]})}function vt({onAnalysisStart:e,onAnalysisComplete:r}){const[t,n]=f.useState(""),[a,o]=f.useState(null),c=yt(),{getErrorMessage:p,isValidationError:u,isApiKeyError:v}=cs(),d=g=>{if(!g.trim())return o("URL is required"),!1;try{return new URL(g),o(null),!0}catch{return o("Please enter a valid URL (e.g., https://example.com)"),!1}},l=async g=>{if(g.preventDefault(),!!d(t)){e==null||e();try{const b=await c.mutateAsync(t);n(""),o(null),r==null||r(b)}catch{}}},w=g=>{const b=g.target.value;n(b),a&&b.trim()&&o(null)};return s.jsxs(K,{children:[s.jsx(Te,{children:s.jsxs(Le,{className:"flex items-center gap-2",children:[s.jsx(tt,{className:"h-5 w-5 text-primary"}),"Analyze Business URL"]})}),s.jsx(_,{children:s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(as,{type:"url",placeholder:"https://example.com",value:t,onChange:w,disabled:c.isPending,className:a?"border-destructive":""}),a&&s.jsx("p",{className:"text-sm text-destructive",children:a})]}),s.jsx(nt,{color:"#7df9ff",speed:1,chaos:.5,thickness:2,style:{borderRadius:8,width:"100%"},children:s.jsx(te,{type:"submit",disabled:c.isPending||!t.trim(),className:"w-full",children:c.isPending?"Analyzing...":"Analyze Business"})}),c.error&&s.jsxs(Xe,{variant:"destructive",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsx(es,{children:v(c.error)?"AI service is not configured. Please check your API keys.":p(c.error)})]})]})})]})}function jt({analysis:e}){const r=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),t=()=>{window.open(e.url,"_blank","noopener,noreferrer")};return s.jsx(K,{className:"hover:shadow-md transition-shadow",children:s.jsx(_,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-primary hover:text-primary/80 transition-colors group",children:[s.jsx("span",{className:"font-medium truncate max-w-md",children:e.url}),s.jsx(Pe,{className:"h-4 w-4 flex-shrink-0 group-hover:translate-x-0.5 transition-transform"})]}),s.jsx("div",{className:"text-xs text-muted-foreground flex-shrink-0",children:r(e.createdAt)})]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Analyzed with ",e.model]}),e.structured?s.jsx(gt,{analysis:e,className:"mt-4"}):s.jsx("div",{className:"text-sm leading-relaxed",children:e.summary})]})})})}function bt({analyses:e,isLoading:r,error:t}){const{getErrorMessage:n}=cs();return t?s.jsx(K,{children:s.jsx(_,{className:"p-6",children:s.jsxs(Xe,{variant:"destructive",children:[s.jsx(Ze,{className:"h-4 w-4"}),s.jsxs(es,{children:["Failed to load analyses: ",n(t)]})]})})}):r?s.jsx(K,{children:s.jsx(_,{className:"p-6",children:s.jsx(Ss,{text:"Loading"})})}):e.length===0?s.jsx(K,{children:s.jsx(_,{className:"p-6 text-center",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-muted-foreground",children:"No analyses yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter a URL above to get started with your first business analysis"})]})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-lg font-semibold",children:["Your Analyses (",e.length,")"]}),s.jsx("div",{className:"space-y-3",children:e.map(a=>s.jsx(jt,{analysis:a},a.id))})]})}function wt(){const{data:e=[],isLoading:r,error:t}=pt();return s.jsxs("div",{className:"min-h-screen",children:[s.jsx("header",{className:"border-b backdrop-blur-sm bg-background/80",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:"/images/Headerlogo.png",alt:"VentureClone AI Logo",className:"h-8 w-auto object-contain"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"VentureClone AI"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Business Analysis Tool"})]})]}),s.jsx(Us,{})]})})}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-8",children:[s.jsx(vt,{}),s.jsx(bt,{analyses:e,isLoading:r,error:t})]})]})}function Et(){return Je({or:"redirect"})?s.jsx(wt,{}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})}export{Et as default};
